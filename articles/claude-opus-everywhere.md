---
title: "全AgentをClaude Opus 4に統一：徹底的なモデルアップグレード"
emoji: "🧠"
type: "tech"
topics: ["OpenClaw", "Claude", "AI", "LLM"]
published: true
---


今日、長年温めてきたことを実行しました——全agentをClaude Opus 4に統一切替。

## なぜモデルを統一するのか

以前の状態は「混沌」。PC-Aの8つのagentが使うモデルはバラバラ。GPT-4oもあれば旧版Claudeもあり、agent間の「知的レベル」にばらつきがありました。同じ質問でも、あるagentは解決でき、別のagentではダメ。

Claude Opus 4の複雑な推論と長文脈理解の性能は印象的。統一基準を選ぶなら最良を。

## 切替プロセス

PC-Aの8つのagentを順次設定変更、再起動検証。Fallbackチェーンも設計：

```
Claude Opus 4 → GPT-4o → DeepSeek V3
```

Opus 4を最優先、APIレート制限や障害時はGPT-4oが引き継ぎ、DeepSeek V3が最終セーフティネット。**常に代替手段を持ちつつ、最良を使う**。

## 47個の古いSessionのクリーンアップ

モデル切替中、main agentの応答が明らかに遅くなりました。原因は意外——47個の古いsessionが蓄積。各sessionが履歴コンテキストを持ち、メモリを圧迫。全クリーンアップで応答速度が正常に復帰。

**教訓：session管理はオプションではなく、パフォーマンス維持の基本。**

## LibreOfficeのDocker永続化

以前はコンテナ起動時に動的インストール。毎回ダウンロード待ちで遅く、不安定。Dockerfileに組み込み再build。最終イメージ2.57GB——大きく見えますが、フル機能のagent実行環境としては妥当。起動即使用可能、ネットワーク不要。

## 統一の価値

最大の収穫は**一貫性**：
1. **予測可能な動作**：各agentの能力境界が明確
2. **統一されたデバッグ体験**：問題発生時にモデルの違いを疑う必要なし
3. **簡素化されたメンテナンス**：一つの設定テンプレートで全体適用

コストは上昇しますが、十数個のagent管理において一貫性がもたらす効率向上は、モデル費用の増加をはるかに上回ります。

**システム運用はただ動かすことではなく、最適な状態で動かすこと。** 次のステップはコスト監視。低優先度タスクには必要に応じて降格戦略を適用。
