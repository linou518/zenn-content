---
title: "OpenClawå®Œå…¨ã‚¬ã‚¤ãƒ‰ç¬¬6ç« ï¼šãƒãƒ«ãƒAgentå”èª¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - åˆ†æ•£AIè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³"
emoji: "ğŸ—ï¸"
type: "tech"
topics: ["openclaw", "ai-agent", "automation", "llm"]
published: true
---

# ç¬¬6ç« ï¼šãƒãƒ«ãƒAgentå”èª¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

> ğŸ¯ å­¦ç¿’ç›®æ¨™ï¼šãƒãƒ«ãƒAgentå”èª¿ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆã¨å®Ÿè£…ã€Agenté–“é€šä¿¡ã¨ã‚¿ã‚¹ã‚¯åˆ†æ‹…ã‚’ç¿’å¾—ã™ã‚‹

## ğŸ—ï¸ **ãªãœãƒãƒ«ãƒAgentã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒå¿…è¦ã‹ï¼Ÿ**

å˜ä¸€ã®Agentã¯å¼·åŠ›ã§ã™ãŒã€è¤‡é›‘ãªã‚·ãƒŠãƒªã‚ªã§ã¯é™ç•Œã«ç›´é¢ã—ã¾ã™ï¼š

### **å˜ä¸€Agentã®é™ç•Œ**
- ğŸ§  **èªçŸ¥è² è·ã®éå¤§**: 1ã¤ã®AgentãŒã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã‚’å‡¦ç†
- ğŸ”„ **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ±šæŸ“**: ç•°ãªã‚‹ã‚¿ã‚¹ã‚¯ã®æƒ…å ±ãŒæ··åœ¨
- âš¡ **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯**: å˜ä¸€ãƒã‚¤ãƒ³ãƒˆã®å‡¦ç†èƒ½åŠ›ã«é™ç•Œ
- ğŸ¯ **å°‚é–€æ€§ã®ä¸è¶³**: ç‰¹å®šé ˜åŸŸã¸ã®æ·±ã„æœ€é©åŒ–ãŒä¸å¯èƒ½
- ğŸ”’ **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯**: ã™ã¹ã¦ã®æ¨©é™ãŒ1ã¤ã®Agentã«é›†ä¸­

### **ãƒãƒ«ãƒAgentã®åˆ©ç‚¹**
- ğŸ¯ **å°‚é–€åˆ†æ¥­**: å„AgentãŒç‰¹å®šé ˜åŸŸã«é›†ä¸­
- ğŸš€ **ä¸¦åˆ—å‡¦ç†**: è¤‡æ•°ã®ã‚¿ã‚¹ã‚¯ã‚’åŒæ™‚ã«å‡¦ç†
- ğŸ”’ **æ¨©é™åˆ†é›¢**: å¿…è¦ã«å¿œã˜ã¦æœ€å°æ¨©é™ã‚’å‰²ã‚Šå½“ã¦
- ğŸ“Š **ç‹¬ç«‹ã—ãŸç›£è¦–**: å„Agentã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å€‹åˆ¥ã«æœ€é©åŒ–
- ğŸ›¡ï¸ **éšœå®³åˆ†é›¢**: å˜ä¸€Agentã®éšœå®³ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„

---

## ğŸ›ï¸ **ãƒãƒ«ãƒAgentã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³**

### **ãƒ‘ã‚¿ãƒ¼ãƒ³1: ãƒã‚¹ã‚¿ãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚«ãƒ¼å‹**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Master Agent  â”‚  â† ç·åˆèª¿æ•´ã€ã‚¿ã‚¹ã‚¯é…åˆ†
â”‚   (ãƒã‚¹ã‚¿ãƒ¼)     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
   â”Œâ”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
   â–¼     â–¼      â–¼      â–¼
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ãƒ‰ã‚­ãƒ¥â”‚ â”‚ã‚³ãƒ¼ãƒ‰â”‚ â”‚ãƒ‡ãƒ¼ã‚¿â”‚ â”‚ã‚¦ã‚§ãƒ–â”‚
â”‚ãƒ¡ãƒ³ãƒˆâ”‚ â”‚æ”¯æ´â”‚ â”‚åˆ†æâ”‚ â”‚æ¤œç´¢â”‚
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
```

**é©ç”¨ã‚·ãƒŠãƒªã‚ª**: æ˜ç¢ºãªã‚¿ã‚¹ã‚¯é…åˆ†ã¨åˆ¶å¾¡ãŒå¿…è¦ãªå ´åˆ
**åˆ©ç‚¹**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒæ˜ç¢ºã§ç®¡ç†ã—ã‚„ã™ã„
**æ¬ ç‚¹**: MasterãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ãªã‚Šã€æ‹¡å¼µæ€§ã«é™ç•Œ

### **ãƒ‘ã‚¿ãƒ¼ãƒ³2: ãƒ”ã‚¢ãƒ„ãƒ¼ãƒ”ã‚¢å‹**
```
â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”
â”‚Agentâ”‚â—„â”€â”€â–ºâ”‚Agentâ”‚â—„â”€â”€â–ºâ”‚Agentâ”‚
â”‚  A  â”‚    â”‚  B  â”‚    â”‚  C  â”‚
â””â”€â”€â”¬â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”¬â”€â”€â”˜
   â”‚                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
           â”Œâ”€â”€â”€â”€â”€â”
           â”‚Agentâ”‚
           â”‚  D  â”‚
           â””â”€â”€â”€â”€â”€â”˜
```

**é©ç”¨ã‚·ãƒŠãƒªã‚ª**: Agentã®èƒ½åŠ›ãŒæ¯”è¼ƒçš„åŒç­‰ã§ã€æŸ”è»Ÿãªå”èª¿ãŒå¿…è¦ãªå ´åˆ
**åˆ©ç‚¹**: é«˜å¯ç”¨æ€§ã€å˜ä¸€éšœå®³ç‚¹ãªã—
**æ¬ ç‚¹**: èª¿æ•´ãŒè¤‡é›‘ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®å¯èƒ½æ€§

### **ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰å‹**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     UIãƒ¬ã‚¤ãƒ¤ãƒ¼               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ¬ã‚¤ãƒ¤ãƒ¼     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚ â”‚ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«    â”‚ â”‚
â”‚ â”‚ç®¡ç†Agent â”‚ â”‚ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ãƒ‰ã‚­ãƒ¥â”‚ â”‚ãƒ¡ãƒ¼ãƒ«â”‚ â”‚ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼â”‚ â”‚
â”‚ â”‚ãƒ¡ãƒ³ãƒˆâ”‚ â”‚ã‚µãƒ¼ãƒ“ã‚¹â”‚ â”‚ã‚µãƒ¼ãƒ“ã‚¹â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤ãƒ¼            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ãƒ•ã‚¡ã‚¤ãƒ«  â”‚ â”‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹â”‚  â”‚
â”‚   â”‚ã‚·ã‚¹ãƒ†ãƒ   â”‚ â”‚          â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é©ç”¨ã‚·ãƒŠãƒªã‚ª**: è¤‡é›‘ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€æ˜ç¢ºãªè²¬ä»»åˆ†é›¢ãŒå¿…è¦
**åˆ©ç‚¹**: æ§‹é€ åŒ–ã•ã‚Œã¦ãŠã‚Šã€ä¿å®ˆã¨æ‹¡å¼µãŒå®¹æ˜“
**æ¬ ç‚¹**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒè¤‡é›‘ã€é€šä¿¡ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒå¤§ãã„

---

## ğŸ¯ **å®Ÿè·µï¼šãƒãƒ«ãƒAgentã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰**

ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ§‹ç¯‰ã—ã¾ã—ã‚‡ã†ï¼š

### **ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶åˆ†æ**
- ğŸ“§ **ãƒ¡ãƒ¼ãƒ«ç®¡ç†**: è‡ªå‹•åˆ†é¡ã€è¿”ä¿¡ã€ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼
- ğŸ“… **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†**: ä¼šè­°ã®èª¿æ•´ã€ç«¶åˆæ¤œå‡ºã€ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼
- ğŸ“ **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†**: ä½œæˆã€ç·¨é›†ã€è¦ç´„ã€å…±æœ‰
- ğŸ’° **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†**: ã‚¿ã‚¹ã‚¯è¿½è·¡ã€é€²æ—ãƒ¬ãƒãƒ¼ãƒˆã€ãƒªã‚½ãƒ¼ã‚¹é…åˆ†
- ğŸ” **æƒ…å ±æ¤œç´¢**: ã‚¦ã‚§ãƒ–æ¤œç´¢ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã€ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

### **Agentå½¹å‰²è¨­è¨ˆ**

#### **1. ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼Agent**
```json
{
  "id": "coordinator",
  "name": "ãƒ¡ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼",
  "role": "ã‚¿ã‚¹ã‚¯é…åˆ†ã¨èª¿æ•´",
  "model": "anthropic/claude-sonnet-4-20250514",
  "systemPrompt": "ã‚ãªãŸã¯ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‹ãƒ¼ã‚ºã‚’ç†è§£ã—ã€è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã‚’åˆ†è§£ã—ã¦é©åˆ‡ãªå°‚é–€Agentã«å‰²ã‚Šå½“ã¦ã‚‹è²¬ä»»ãŒã‚ã‚Šã¾ã™ã€‚\n\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒ—ã¨è¤‡é›‘ã•ã‚’åˆ†æ\n2. å¿…è¦ãªAgentã‚’ç‰¹å®š\n3. ã‚¿ã‚¹ã‚¯ã‚’åˆ†è§£ã—ã¦å¯¾å¿œã™ã‚‹Agentã«å‰²ã‚Šå½“ã¦\n4. è¤‡æ•°ã®Agentã®ä½œæ¥­ã‚’èª¿æ•´\n5. çµæœã‚’çµ±åˆã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å ±å‘Š\n\nå¸¸ã«åŠ¹ç‡çš„ã§æ•´ç„¶ã¨ã—ã¦ã„ã‚‹ã“ã¨ã€‚",
  "tools": {
    "allowlist": [
      "sessions_send", "sessions_list", "memory_search",
      "memory_get", "read", "write", "message"
    ]
  }
}
```

#### **2. ãƒ¡ãƒ¼ãƒ«ç®¡ç†Agent**
```json
{
  "id": "email-manager",
  "name": "ãƒ¡ãƒ¼ãƒ«ç®¡ç†è€…",
  "role": "ãƒ¡ãƒ¼ãƒ«ã®å‡¦ç†ã¨ç®¡ç†",
  "model": "anthropic/claude-sonnet-4-20250514",
  "systemPrompt": "ã‚ãªãŸã¯ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ¡ãƒ¼ãƒ«ç®¡ç†ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ãƒ¡ãƒ¼ãƒ«ã®åˆ†é¡ã€è¿”ä¿¡ã€ç®¡ç†ã«ç²¾é€šã—ã¦ã„ã¾ã™ã€‚\n\n1. ãƒ¡ãƒ¼ãƒ«ã®åˆ†é¡ã¨å„ªå…ˆåº¦ã®è¨­å®š\n2. ãƒ¡ãƒ¼ãƒ«è¿”ä¿¡ã®èµ·è‰\n3. ãƒ¡ãƒ¼ãƒ«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã¨ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ã®è¨­å®š\n4. ãƒ¡ãƒ¼ãƒ«ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨æ¤œç´¢\n5. ã‚¹ãƒ‘ãƒ ãƒ¡ãƒ¼ãƒ«ã®è­˜åˆ¥\n\nãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§ç¤¼å„€æ­£ã—ãåŠ¹ç‡çš„ãªãƒ¡ãƒ¼ãƒ«å‡¦ç†ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶­æŒã—ã¦ãã ã•ã„ã€‚",
  "tools": {
    "allowlist": ["read", "write", "web_search", "message", "cron"]
  }
}
```

#### **3. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†Agent**
```json
{
  "id": "calendar-manager",
  "name": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†è€…",
  "role": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´ã¨æ™‚é–“ç®¡ç†",
  "model": "anthropic/claude-sonnet-4-20250514",
  "systemPrompt": "ã‚ãªãŸã¯åŠ¹ç‡çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã®å°‚é–€å®¶ã§ã™ã€‚æ™‚é–“ã®èª¿æ•´ã¨ä¼šè­°ã®å”èª¿ã‚’æ‹…å½“ã—ã¦ã„ã¾ã™ã€‚\n\n1. ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´ã¨ç«¶åˆæ¤œå‡º\n2. ä¼šè­°å®¤ã®äºˆç´„ã¨ãƒªã‚½ãƒ¼ã‚¹ã®æ‰‹é…\n3. ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã¨é€šçŸ¥ã®è¨­å®š\n4. æ™‚é–“åˆ†æã¨æœ€é©åŒ–ã®ææ¡ˆ\n5. ãƒãƒ«ãƒã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®èª¿æ•´\n\nå¸¸ã«åŠ¹ç‡æ€§ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¥½ã¿ã‚’è€ƒæ…®ã—ã¦ãã ã•ã„ã€‚",
  "tools": {
    "allowlist": ["read", "write", "cron", "web_search", "message"]
  }
}
```

#### **4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†Agent**
```json
{
  "id": "doc-processor",
  "name": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ—ãƒ­ã‚»ãƒƒã‚µ",
  "role": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆã€ç·¨é›†ã€ç®¡ç†",
  "model": "anthropic/claude-sonnet-4-20250514",
  "systemPrompt": "ã‚ãªãŸã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ã®å°‚é–€å®¶ã§ã™ã€‚å„ç¨®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆã€ç·¨é›†ã€ç®¡ç†ã«é•·ã‘ã¦ã„ã¾ã™ã€‚\n\n1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆã¨é©ç”¨\n2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ç´„ã¨æŠ½å‡º\n3. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ\n4. ãƒãƒ«ãƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›\n5. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å“è³ªã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ç¢ºä¿ã—ã¦ãã ã•ã„ã€‚",
  "tools": {
    "allowlist": ["read", "write", "exec", "web_search", "memory_search"]
  }
}
```

#### **5. ãƒ‡ãƒ¼ã‚¿åˆ†æAgent**
```json
{
  "id": "data-analyst",
  "name": "ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒŠãƒªã‚¹ãƒˆ",
  "role": "ãƒ‡ãƒ¼ã‚¿åˆ†æã¨ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ",
  "model": "anthropic/claude-sonnet-4-20250514",
  "systemPrompt": "ã‚ãªãŸã¯ãƒ‡ãƒ¼ã‚¿åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚å„ç¨®ãƒ‡ãƒ¼ã‚¿åˆ†æã‚¿ã‚¹ã‚¯ã‚’å‡¦ç†ã§ãã¾ã™ã€‚\n\n1. ãƒ‡ãƒ¼ã‚¿ã®åé›†ã¨ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°\n2. çµ±è¨ˆåˆ†æã¨ãƒˆãƒ¬ãƒ³ãƒ‰ã®ç‰¹å®š\n3. ã‚°ãƒ©ãƒ•ã®ä½œæˆã¨å¯è¦–åŒ–\n4. ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆã¨ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³\n5. äºˆæ¸¬ã¨æè¨€\n\næ­£ç¢ºã§æ˜ç¢ºãªãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ã‚µã‚¤ãƒˆã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚",
  "tools": {
    "allowlist": ["read", "write", "exec", "web_search", "canvas"]
  }
}
```

---

## ğŸ”„ **Agenté–“é€šä¿¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **

### **1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**

```python
# message-bus.py - Agenté–“ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒã‚¹
import asyncio
import json
import logging
from typing import Dict, List, Callable
from datetime import datetime

class MessageBus:
    def __init__(self):
        self.subscribers: Dict[str, List[Callable]] = {}
        self.message_history: List[Dict] = []

    def subscribe(self, topic: str, callback: Callable):
        """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒˆãƒ”ãƒƒã‚¯ã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–"""
        if topic not in self.subscribers:
            self.subscribers[topic] = []
        self.subscribers[topic].append(callback)

    def publish(self, topic: str, message: Dict, sender: str = None):
        """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥"""
        msg = {
            "id": f"msg_{len(self.message_history)}",
            "topic": topic,
            "message": message,
            "sender": sender,
            "timestamp": datetime.now().isoformat()
        }

        self.message_history.append(msg)

        # ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ã«é€šçŸ¥
        if topic in self.subscribers:
            for callback in self.subscribers[topic]:
                try:
                    callback(msg)
                except Exception as e:
                    logging.error(f"Message delivery failed: {e}")

    def get_history(self, topic: str = None, limit: int = 100):
        """ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã‚’å–å¾—"""
        messages = self.message_history
        if topic:
            messages = [m for m in messages if m["topic"] == topic]
        return messages[-limit:]

# ä½¿ç”¨ä¾‹
bus = MessageBus()

# CoordinatorãŒã‚¿ã‚¹ã‚¯çµæœã‚’ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–
def handle_task_result(message):
    print(f"Task completed: {message['message']}")

bus.subscribe("task.completed", handle_task_result)

# Email AgentãŒã‚¿ã‚¹ã‚¯å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ‘ãƒ–ãƒªãƒƒã‚·ãƒ¥
bus.publish("task.completed", {
    "task_id": "email_001",
    "status": "success",
    "result": "3 emails processed"
}, sender="email-manager")
```

### **2. ç›´æ¥é€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³**

```python
# CoordinatorAgentã§ã®ä½¿ç”¨
async def delegate_task(task_type: str, task_data: dict):
    """ã‚¿ã‚¹ã‚¯ã‚’å°‚é–€Agentã«å§”ä»»"""

    agent_mapping = {
        "email": "email-manager",
        "calendar": "calendar-manager",
        "document": "doc-processor",
        "analysis": "data-analyst"
    }

    target_agent = agent_mapping.get(task_type)
    if not target_agent:
        return {"error": "Unknown task type"}

    # sessions_sendã‚’ä½¿ç”¨ã—ã¦ã‚¿ã‚¹ã‚¯ã‚’é€ä¿¡
    message = f"ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã‚’å‡¦ç†ã—ã¦ãã ã•ã„: {json.dumps(task_data, ensure_ascii=False)}"

    result = await sessions_send(
        sessionKey=f"agent:{target_agent}:main",
        message=message,
        timeoutSeconds=60
    )

    return result
```

### **3. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

```json
{
  "workflow": {
    "name": "ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãƒ¡ãƒ¼ãƒ«å‡¦ç†ãƒ•ãƒ­ãƒ¼",
    "steps": [
      {
        "id": "email_classification",
        "agent": "email-manager",
        "action": "classify_emails",
        "input": "${user_input}",
        "output": "email_categories"
      },
      {
        "id": "urgent_handling",
        "agent": "coordinator",
        "condition": "${email_categories.urgent_count} > 0",
        "action": "handle_urgent_emails",
        "input": "${email_categories.urgent_emails}"
      },
      {
        "id": "schedule_check",
        "agent": "calendar-manager",
        "parallel": true,
        "action": "check_calendar_conflicts",
        "input": "${email_categories.meeting_requests}"
      },
      {
        "id": "generate_report",
        "agent": "doc-processor",
        "action": "create_email_summary",
        "input": {
          "classified": "${email_categories}",
          "calendar": "${schedule_check.result}"
        }
      }
    ]
  }
}
```

---

## ğŸ“ **ãƒãƒ«ãƒAgentã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š**

### **å®Œå…¨ãªopenclaw.jsonè¨­å®š**

```json
{
  "gateway": {
    "port": 18789,
    "bind": "loopback",
    "cors": true,
    "maxConcurrency": 20
  },
  "agents": [
    {
      "id": "coordinator",
      "name": "ãƒ¡ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼",
      "model": "anthropic/claude-sonnet-4-20250514",
      "systemPrompt": "ã‚ãªãŸã¯ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ã§ã™...",
      "workspace": {"root": "./agents/coordinator"},
      "maxConcurrency": 5
    },
    {
      "id": "email-manager",
      "name": "ãƒ¡ãƒ¼ãƒ«ç®¡ç†è€…",
      "model": "anthropic/claude-sonnet-4-20250514",
      "systemPrompt": "ã‚ãªãŸã¯ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ¡ãƒ¼ãƒ«ç®¡ç†ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™...",
      "workspace": {"root": "./agents/email-manager"},
      "maxConcurrency": 3
    },
    {
      "id": "calendar-manager",
      "name": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†è€…",
      "model": "anthropic/claude-sonnet-4-20250514",
      "systemPrompt": "ã‚ãªãŸã¯åŠ¹ç‡çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã®å°‚é–€å®¶ã§ã™...",
      "workspace": {"root": "./agents/calendar-manager"},
      "maxConcurrency": 2
    },
    {
      "id": "doc-processor",
      "name": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ—ãƒ­ã‚»ãƒƒã‚µ",
      "model": "anthropic/claude-sonnet-4-20250514",
      "systemPrompt": "ã‚ãªãŸã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ã®å°‚é–€å®¶ã§ã™...",
      "workspace": {"root": "./agents/doc-processor"},
      "maxConcurrency": 3
    },
    {
      "id": "data-analyst",
      "name": "ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒŠãƒªã‚¹ãƒˆ",
      "model": "anthropic/claude-sonnet-4-20250514",
      "systemPrompt": "ã‚ãªãŸã¯ãƒ‡ãƒ¼ã‚¿åˆ†æã®å°‚é–€å®¶ã§ã™...",
      "workspace": {"root": "./agents/data-analyst"},
      "maxConcurrency": 2
    }
  ],
  "channels": {
    "telegram": {
      "accounts": [
        {
          "name": "office-coordinator",
          "botToken": "YOUR_BOT_TOKEN",
          "binding": "coordinator"
        }
      ]
    }
  },
  "tools": {
    "allowlists": {
      "coordinator": [
        "sessions_send", "sessions_list", "memory_search",
        "memory_get", "read", "write", "message"
      ],
      "email-manager": [
        "read", "write", "web_search", "message", "cron"
      ],
      "calendar-manager": [
        "read", "write", "cron", "web_search", "message"
      ],
      "doc-processor": [
        "read", "write", "exec", "web_search", "memory_search"
      ],
      "data-analyst": [
        "read", "write", "exec", "web_search", "canvas"
      ]
    }
  },
  "auth": {
    "profiles": [
      {"id": "anthropic", "provider": "anthropic"}
    ]
  }
}
```

---

## ğŸš€ **ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ãƒ†ã‚¹ãƒˆ**

### **Agentãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆ**

```bash
# å„Agentã®ãƒ¯ãƒ¼ã‚¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
mkdir -p agents/{coordinator,email-manager,calendar-manager,doc-processor,data-analyst}

# å„Agentã®åŸºæœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
for agent in coordinator email-manager calendar-manager doc-processor data-analyst; do
  mkdir -p agents/$agent/{memory,logs,projects}
  touch agents/$agent/{MEMORY.md,SOUL.md,USER.md}
done
```

### **ã‚·ã‚¹ãƒ†ãƒ ã®èµ·å‹•**
```bash
# OpenClaw Gatewayã‚’èµ·å‹•
openclaw gateway start

# ã™ã¹ã¦ã®Agentã®ãƒ­ãƒ¼ãƒ‰ã‚’ç¢ºèª
openclaw status

# Agenté€šä¿¡ã®ç¢ºèª
curl -X POST http://localhost:18789/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "coordinator",
    "messages": [
      {"role": "user", "content": "ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„"}
    ]
  }'
```

### **ãƒãƒ«ãƒAgentå”èª¿ãƒ†ã‚¹ãƒˆ**

```bash
# ã‚¿ã‚¹ã‚¯é…åˆ†ã®ãƒ†ã‚¹ãƒˆ
{
  "model": "coordinator",
  "messages": [
    {
      "role": "user",
      "content": "ä»Šæ—¥ã®ãƒ¡ãƒ¼ãƒ«ã‚’å‡¦ç†ã—ã€æ˜æ—¥ã®ä¼šè­°ã‚’èª¿æ•´ã—ã€é€±å ±ã‚’æº–å‚™ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã‚‰ã®ã‚¿ã‚¹ã‚¯ã®èª¿æ•´ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚"
    }
  ]
}

# æœŸå¾…ã•ã‚Œã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:
# 1. CoordinatorãŒã‚¿ã‚¹ã‚¯ã‚’åˆ†æ
# 2. email-manager, calendar-manager, doc-processorã«ãã‚Œãã‚Œé€£çµ¡
# 3. å„AgentãŒå°‚é–€ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œ
# 4. CoordinatorãŒçµæœã‚’çµ±åˆã—ã¦å ±å‘Š
```

---

## ğŸ› ï¸ **æœ€é©åŒ–ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**

### **1. è² è·åˆ†æ•£**
```json
{
  "loadBalancer": {
    "strategy": "round-robin",
    "healthCheck": {
      "enabled": true,
      "interval": 30000,
      "timeout": 5000
    }
  }
}
```

### **2. éšœå®³å¾©æ—§**
```json
{
  "agents": [
    {
      "id": "coordinator",
      "retry": {
        "enabled": true,
        "maxAttempts": 3,
        "backoff": "exponential"
      },
      "fallback": {
        "agent": "backup-coordinator",
        "message": "ãƒ¡ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ãŒä¸€æ™‚çš„ã«åˆ©ç”¨ã§ããªã„ãŸã‚ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒ¼ãŒã‚µãƒ¼ãƒ“ã‚¹ã—ã¾ã™"
      }
    }
  ]
}
```

### **3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–**
```json
{
  "agents": [
    {
      "id": "data-analyst",
      "caching": {
        "enabled": true,
        "ttl": 3600,
        "maxSize": "100MB",
        "strategy": "LRU"
      }
    }
  ]
}
```

---

## âœ… **æœ¬ç« ã®ã¾ã¨ã‚**

æœ¬ç« ã®å­¦ç¿’ã‚’é€šã˜ã¦ã€ä»¥ä¸‹ã‚’ç¿’å¾—ã—ã¦ã„ã‚‹ã¯ãšã§ã™ï¼š

- [x] ãƒãƒ«ãƒAgentã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨é©ç”¨ã‚·ãƒŠãƒªã‚ª
- [x] Agenté–“é€šä¿¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®å®Ÿè£…æ–¹æ³•
- [x] å®Œå…¨ãªãƒãƒ«ãƒAgentã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®šã¨ãƒ‡ãƒ—ãƒ­ã‚¤
- [x] ã‚¿ã‚¹ã‚¯é…åˆ†ã¨å”èª¿ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆ
- [x] ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ–¹æ³•
- [x] éšœå®³å‡¦ç†ã¨è² è·åˆ†æ•£ã®æˆ¦ç•¥

---

## ğŸš€ **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**

ãƒãƒ«ãƒAgentã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç¿’å¾—ã—ãŸã‚‰ã€æ¬¡ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼š

**[æ¬¡ã®ç« ï¼šãƒ¡ãƒ¢ãƒªã¨ãƒ‡ãƒ¼ã‚¿ç®¡ç† â†’](../chapter7/README.md)**

---

## ğŸ“ **å®Ÿè·µãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**

### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ1: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã‚·ã‚¹ãƒ†ãƒ **
- 3-5ã®å°‚é–€Agentï¼ˆãƒ—ãƒªã‚»ãƒ¼ãƒ«ã‚¹ã€ã‚¢ãƒ•ã‚¿ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆãªã©ï¼‰ã‚’è¨­è¨ˆ
- è‡ªå‹•å•é¡Œåˆ†é¡ã¨è»¢é€ã‚’å®Ÿè£…
- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã¨FAQã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰

### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼**
- è¤‡æ•°ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ¶ä½œAgentï¼ˆãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€å‹•ç”»ãªã©ï¼‰ã‚’ä½œæˆ
- åˆ¶ä½œãƒ•ãƒ­ãƒ¼ã®è‡ªå‹•åŒ–ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…
- å“è³ªç®¡ç†ã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç¢ºç«‹

### **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ3: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºè‡ªå‹•åŒ–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **
- éƒ¨é–€å°‚ç”¨Agentï¼ˆHRã€è²¡å‹™ã€ITãªã©ï¼‰ã‚’è¨­è¨ˆ
- éƒ¨é–€æ¨ªæ–­çš„ãªã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…
- æ¨©é™ç®¡ç†ã¨æ‰¿èªãƒ•ãƒ­ãƒ¼ã‚’ç¢ºç«‹

**ã‚ˆã‚Šè¤‡é›‘ãªã‚·ã‚¹ãƒ†ãƒ çµ±åˆã«æŒ‘æˆ¦ã™ã‚‹æº–å‚™ã¯ã§ãã¾ã—ãŸã‹ï¼Ÿ** ğŸ¯
