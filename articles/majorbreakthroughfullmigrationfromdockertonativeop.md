---
title: "重大突破：Docker→ネイティブOpenClawへの全面移行"
emoji: "📝"
type: "tech"
topics: ["OpenClaw", "AI"]
published: true
---


## 2つの「沈黙した」Botから始まった

game-devとyoutube-choの2つのTelegram Botが完全無応答。原因はトークン競合——Dockerコンテナ内のOpenClawインスタンスとネイティブインスタンスが同じBot Tokenを同時に保持し、webhook を奪い合い。Telegramのルール：同一トークンにつきアクティブ接続は1つだけ。

Docker導入以来の問題が積み重なり、徹底的な決断の時。

## 全面移行

T440の5つのDockerコンテナをすべて停止し、15のagentをネイティブOpenClawインスタンスに統一移行。

Dockerコンテナ化に数日かけた作業を覆す決断。しかし**技術判断にサンクコスト思考は禁物**——現方案が解決する問題より生む問題の方が多ければ、果断に切り替えるべき。

## 移行プロセス

1. **設定の整理**：5コンテナから15 agentの設定を抽出
2. **ネイティブ設定に統一書き込み**：最も時間がかかるステップ
3. **Dockerコンテナ全停止**：一つでも残せばトークン競合が再発
4. **検証**：各Bot にメッセージ送信、応答確認

## 成果：75%の即時成功率

テスト可能な12 agentのうち9つが即座に正常応答。残り3つは401 Tokenエラーで個別対応が必要——アーキテクチャレベルの切替は完了。

**全プロセスでゼロダウンタイム**を実現。「新しい橋を架けてから古い橋を壊す」戦略。

## 技術的省察

**アーキテクチャの複雑度は実際のニーズと一致させるべき。** Docker自体は悪くない。しかしT440（20コアXeon、62GB RAM）で15の軽量AI agentを動かすにはネイティブデプロイで十分。Dockerは不要な複雑さ（volume権限、uid、ネットワーク、トークン競合）を増加させただけ。

**時に最もシンプルな方案が最良の方案。** コンテナ化から脱コンテナ化まで3日。技術選定は信仰ではなくツール。正しいツールを選べば、本当に重要なことにエネルギーを集中できます。
